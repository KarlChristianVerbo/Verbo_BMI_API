<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculate BMI</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="background"></div>
    <div class="app-container">
        <div class="app-window">
            <div class="title-bar">
                <div class="title-bar-left">
                    <span class="icon">üë§</span>
                    <span class="title-text">Calculate BMI</span>
                </div>
                <div class="title-bar-right">
                    <button class="window-btn minimize">‚àí</button>
                    <button class="window-btn maximize">‚ñ°</button>
                    <button class="window-btn close">√ó</button>
                </div>
            </div>
            
            <div class="app-content">
                <h1 class="main-title">Calculate Body Mass Index</h1>
                
                <!-- User Information Form -->
                <div class="user-info-section" id="userInfoSection">
                    <h2 class="section-title">Enter Your Information</h2>
                    <form id="userInfoForm" onsubmit="submitUserInfo(event)">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="userName">Full Name</label>
                                <input type="text" id="userName" required placeholder="Enter your name">
                            </div>
                            <div class="form-group">
                                <label for="userAge">Age</label>
                                <input type="number" id="userAge" required min="1" max="150" placeholder="Enter your age">
                            </div>
                            <div class="form-group">
                                <label for="userGender">Gender</label>
                                <select id="userGender" required>
                                    <option value="">Select Gender</option>
                                    <option value="Male">Male</option>
                                    <option value="Female">Female</option>
                                    <option value="Other">Other</option>
                                </select>
                            </div>
                        </div>
                        <button type="submit" class="submit-btn">Continue to BMI Calculator</button>
                    </form>
                </div>
                
                <!-- Current User Info Display -->
                <div class="current-user-info" id="currentUserInfo" style="display: none;">
                    <div class="user-badge">
                        <span>üë§ <strong id="displayName"></strong> | Age: <span id="displayAge"></span> | <span id="displayGender"></span></span>
                        <button class="change-user-btn" onclick="changeUser()">Change User</button>
                    </div>
                </div>
                
                <!-- History Section -->
                <div class="history-section" id="historySection" style="display: none;">
                    <div class="history-header">
                        <h2 class="section-title">Your BMI History</h2>
                        <div class="history-header-buttons">
                            <button class="back-to-calculator-btn" onclick="hideHistory()">‚Üê Back to Calculator</button>
                            <button class="refresh-btn" onclick="loadHistory()">üîÑ Refresh</button>
                        </div>
                    </div>
                    <div class="history-list" id="historyList">
                        <!-- History items will be loaded here -->
                    </div>
                </div>
                
                <div class="bmi-section" id="bmiSection" style="display: none;">
                    <h2 class="section-title">Calculate BMI</h2>
                    
                    <div class="input-container">
                        <div class="input-group">
                            <label for="height">Select Your Height</label>
                            <div class="input-wrapper">
                                <input type="number" id="height" value="175" min="50" max="250" step="1">
                                <span class="unit">cm</span>
                                <div class="input-buttons">
                                    <button class="input-btn up" onclick="adjustValue('height', 1)">‚ñ≤</button>
                                    <button class="input-btn down" onclick="adjustValue('height', -1)">‚ñº</button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="input-group">
                            <label for="weight">Select Your Weight</label>
                            <div class="input-wrapper">
                                <input type="number" id="weight" value="70" min="20" max="300" step="1">
                                <span class="unit">kg</span>
                                <div class="input-buttons">
                                    <button class="input-btn up" onclick="adjustValue('weight', 1)">‚ñ≤</button>
                                    <button class="input-btn down" onclick="adjustValue('weight', -1)">‚ñº</button>
                                </div>
                            </div>
                        </div>
                        
                        <button class="calculate-btn" onclick="calculateBMI()">CALCULATE</button>
                        
                        <div class="result-box">
                            <div class="result-label">Your BMI is</div>
                            <div class="result-value" id="bmiResult">22.86</div>
                        </div>
                    </div>
                    
                    <div class="category-banner" id="categoryBanner">
                        <span>Your weight is <strong id="categoryText">NORMAL</strong></span>
                    </div>
                    <div class="action-buttons">
                        <button class="save-btn" id="saveBtn" onclick="saveBMI()" style="display: none;">üíæ Save to History</button>
                        <button class="view-history-btn" onclick="showHistory()">üìã View History</button>
                    </div>
                </div>
                
                <div class="legend-section" id="legendSection" style="display: none;">
                    <h2 class="section-title">BMI Legend</h2>
                    <div class="legend-items">
                        <div class="legend-item">
                            <div class="legend-figure underweight">üë§</div>
                            <div class="legend-text">&lt; 18.5<br><strong>UNDERWEIGHT</strong></div>
                        </div>
                        <div class="legend-item">
                            <div class="legend-figure normal">üë§</div>
                            <div class="legend-text">18.5-24.9<br><strong>NORMAL</strong></div>
                        </div>
                        <div class="legend-item">
                            <div class="legend-figure overweight">üë§</div>
                            <div class="legend-text">25-29.9<br><strong>OVERWEIGHT</strong></div>
                        </div>
                        <div class="legend-item">
                            <div class="legend-figure obese">üë§</div>
                            <div class="legend-text">30 &lt;<br><strong>OBESE</strong></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script src="script.js"></script>
</body>
</html>
